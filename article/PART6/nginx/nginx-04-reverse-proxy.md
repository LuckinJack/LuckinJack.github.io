

# 反向代理

通俗点来说，**正向代理的代理对象是客户端**，隐藏了客户端的IP、头部或者其他信息，服务器得到的是伪装过的客户端信息；**反向代理的代理对象是服务端**，隐藏了目标服务器的IP、头部或者其他信息，客户端得到的是伪装过的目标服务器信息。



![](https://images2018.cnblogs.com/blog/466768/201804/466768-20180403082035578-1377801350.png)

![](https://images2018.cnblogs.com/blog/466768/201804/466768-20180403082301442-834829046.png)

正向代理的主要场景是客户端。由于网络不通等物理原因，需要通过正向代理服务器这种中间转发环节顺利访问目标服务器。当然也可以通过正向代理服务器对客户端某些详细信息进行一些伪装和改变。举个例子，我们平时想上国外的网站时（比如YouTube、Twitter），需要买VPN作为跳板机器进行访问，这里的VPN就是一个正向代理工具。

反向代理的主要场景是服务端。服务提供方可以通过反向代理服务器轻松实现目标服务器的动态切换，实现多目标服务器的负载均衡等。



> 用户的一次网络访问请求中是否可以既经历正向代理又经历反向代理？
>
> 假设我们在公司的内网环境中访问不了百度，此时我们可以通过一个代理（正向代理）服务器来访问百度，当我们的代理服务器将我们的请求转发给百度时，我们的代理服务器对百度而言就是一个客户端，百度可能有一个前置的反向代理服务器，将我们的请求转发给一个真正可以处理我们的请求的应用服务器。在上面这整个链路中，就既经历了正向代理又经历了反向代理。
